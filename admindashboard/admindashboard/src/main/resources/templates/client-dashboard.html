<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>My Client Portal</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="/css/style.css" rel="stylesheet">
</head>
<body class="bg-light">

<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container">
        <a class="navbar-brand fw-bold fs-3" href="/client"><i class="fas fa-cloud me-2"></i>Tax Portal</a>

        <div class="d-flex align-items-center">

            <div class="dropdown me-3">
                <button class="btn btn-outline-light border-0 position-relative" type="button" data-bs-toggle="dropdown">
                    <i class="fas fa-bell fa-lg"></i>
                    <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" style="font-size: 0.6rem;">3</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-end shadow border-0" style="width: 340px;">
                    <li><h6 class="dropdown-header text-uppercase small fw-bold text-muted spacing-1">Recent Alerts</h6></li>
                    <li>
                        <div class="dropdown-item-text d-flex align-items-start py-3 border-bottom">
                            <div class="bg-warning bg-opacity-10 text-warning rounded-circle p-2 me-3 d-flex align-items-center justify-content-center" style="width: 35px; height: 35px;">
                                <i class="fas fa-exclamation"></i>
                            </div>
                            <div>
                                <small class="fw-bold d-block text-dark">Action Required</small>
                                <small class="text-muted small text-wrap lh-sm">Please re-upload Jan Invoices. Image blurry.</small>
                            </div>
                        </div>
                    </li>
                    <li>
                        <a class="dropdown-item text-center small text-primary fw-bold py-2 bg-light border-top" href="/notifications">
                            View All Notifications <i class="fas fa-arrow-right ms-1"></i>
                        </a>
                    </li>
                </ul>
            </div>

            <div class="dropdown">
                <button class="btn btn-outline-light btn-lg dropdown-toggle border-0 px-4 py-2 fw-bold" type="button" data-bs-toggle="dropdown">
                    <i class="fas fa-user-circle me-2 fa-lg"></i>My Account
                </button>
                <ul class="dropdown-menu dropdown-menu-end shadow p-3" style="min-width: 250px;">
                    <li><h5 class="dropdown-header text-primary" th:text="${name}">User Name</h5></li>
                    <li><a class="dropdown-item fw-bold mt-2" th:href="@{/profile(clientName=${name}, phone=${phone}, pan=${pan}, role='client')}"><i class="fas fa-user-edit me-2 text-primary"></i>Edit Profile</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item text-danger fw-bold" href="/"><i class="fas fa-sign-out-alt me-2"></i>Logout</a></li>
                </ul>
            </div>

        </div>
    </div>
</nav>

<div class="container mt-4">
    <div class="row">

        <div class="col-md-4">
            <div class="card shadow-sm mb-4">
                <div class="card-header bg-white fw-bold small text-muted">CURRENT STATUS</div>
                <div class="card-body text-center">
                    <h5 class="text-primary fw-bold mb-4">In Process</h5>
                    <div class="position-relative mx-2 mb-4">
                        <div class="progress" style="height: 3px;">
                            <div class="progress-bar" role="progressbar" style="width: 50%;"></div>
                        </div>
                        <button class="position-absolute top-0 start-0 translate-middle btn btn-primary rounded-pill btn-sm" style="width: 2rem; height:2rem;">1</button>
                        <button class="position-absolute top-0 start-50 translate-middle btn btn-primary rounded-pill btn-sm" style="width: 2rem; height:2rem;">2</button>
                        <button class="position-absolute top-0 start-100 translate-middle btn btn-secondary rounded-pill btn-sm" style="width: 2rem; height:2rem;">3</button>
                    </div>
                    <div class="d-flex justify-content-between small fw-bold">
                        <span class="text-primary">Docs</span><span class="text-primary">Check</span><span class="text-muted">Filing</span>
                    </div>
                </div>
            </div>

            <div class="card shadow-sm mb-4">
                <div class="card-header bg-white fw-bold"><i class="fas fa-heartbeat me-2 text-danger"></i>Compliance Health</div>
                <div class="card-body text-center">
                    <div style="width: 120px; height: 120px; border-radius: 50%; border: 8px solid #ffc107; display: flex; align-items: center; justify-content: center; margin: 0 auto;">
                        <div><h3 class="mb-0">Med</h3><small class="text-muted">Risk</small></div>
                    </div>
                    <p class="mt-3 small text-muted"><i class="fas fa-exclamation-triangle text-warning me-1"></i>GSTR-3B Due in <strong>3 Days</strong></p>
                </div>
            </div>

            <div class="card shadow-sm mb-4 bg-primary text-white">
                <div class="card-body text-center">
                    <h5>Need Help?</h5>
                    <button class="btn btn-light btn-sm w-100 fw-bold text-primary mt-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#chatDrawer">
                        <i class="fas fa-comments me-2"></i>Open Support Chat
                    </button>
                </div>
            </div>
        </div>

        <div class="col-md-8">

            <div class="card shadow-sm mb-4">
                <div class="card-header bg-white fw-bold"><i class="fas fa-file-upload me-2"></i>Upload Pending Documents</div>
                <div class="card-body">
                    <div class="alert alert-warning small d-flex align-items-center">
                        <i class="fas fa-bell me-2"></i>
                        <div><strong>Action Required:</strong> Please upload your purchase invoices for Jan 2026.</div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label small text-muted">Document Type</label>
                        <select class="form-select">
                            <option selected>Purchase Invoices (GST)</option>
                            <option>Bank Statement</option>
                            <option>Sales Register</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <input type="file" class="form-control" id="inputGroupFile02">
                        <button class="input-group-text btn btn-dark">Upload</button>
                    </div>
                </div>
            </div>

            <div class="card shadow-sm">
                <div class="card-header bg-white fw-bold">
                    <i class="fas fa-history me-2"></i>Recent Filings
                </div>
                <table class="table table-hover mb-0 align-middle">
                    <thead class="table-light small">
                    <tr>
                        <th>Document Name</th>
                        <th>Date</th>
                        <th>Status</th>
                        <th class="text-end">Actions</th>
                    </tr>
                    </thead>
                    <tbody>

                    <tr>
                        <td>
                            <div class="d-flex align-items-center">
                                <i class="fas fa-file-image text-danger me-2"></i>
                                <div><div class="fw-bold">Jan Invoices</div><small class="text-muted">Jan 2026</small></div>
                            </div>
                        </td>
                        <td>Today</td>
                        <td>
                                <span class="badge bg-danger cursor-pointer"
                                      data-bs-toggle="tooltip"
                                      data-bs-placement="top"
                                      title="Reason: Image is blurry. Please scan and re-upload.">
                                    <i class="fas fa-exclamation-circle me-1"></i>Rejected
                                </span>
                        </td>
                        <td class="text-end">
                            <button class="btn btn-sm btn-warning text-dark fw-bold me-1" title="Re-upload Correct File">
                                <i class="fas fa-upload me-1"></i>Fix Now
                            </button>
                            <button class="btn btn-sm btn-outline-danger" title="Delete"><i class="fas fa-trash-alt"></i></button>
                        </td>
                    </tr>

                    <tr>
                        <td>
                            <div class="d-flex align-items-center">
                                <i class="fas fa-file-excel text-success me-2"></i>
                                <div><div class="fw-bold">Bank Statement</div><small class="text-muted">Dec 2025</small></div>
                            </div>
                        </td>
                        <td>Jan 23, 2026</td>
                        <td>
                                <span class="badge bg-warning text-dark cursor-pointer"
                                      data-bs-toggle="tooltip"
                                      data-bs-placement="top"
                                      title="Est. Completion: 24 Hours">
                                    <i class="fas fa-clock me-1"></i>Processing
                                </span>
                        </td>
                        <td class="text-end">
                            <button class="btn btn-sm btn-outline-primary me-1"><i class="fas fa-download"></i></button>
                            <button class="btn btn-sm btn-outline-warning me-1"><i class="fas fa-sync-alt"></i></button>
                            <button class="btn btn-sm btn-outline-danger"><i class="fas fa-trash-alt"></i></button>
                        </td>
                    </tr>

                    <tr>
                        <td>
                            <div class="d-flex align-items-center">
                                <i class="fas fa-file-pdf text-danger me-2"></i>
                                <div><div class="fw-bold">GSTR-1 Return</div><small class="text-muted">Dec 2025</small></div>
                            </div>
                        </td>
                        <td>Jan 11, 2026</td>
                        <td>
                                <span class="badge bg-success cursor-pointer"
                                      data-bs-toggle="tooltip"
                                      data-bs-placement="top"
                                      title="Filed on Jan 11 via Govt Portal">
                                    <i class="fas fa-check-circle me-1"></i>Filed
                                </span>
                        </td>
                        <td class="text-end">
                            <button class="btn btn-sm btn-outline-primary"><i class="fas fa-download"></i></button>
                        </td>
                    </tr>

                    </tbody>
                </table>
            </div>

        </div>
    </div>
</div>

<div class="offcanvas offcanvas-end" tabindex="-1" id="chatDrawer">
    <div class="offcanvas-header bg-primary text-white">
        <h5 class="offcanvas-title"><i class="fas fa-headset me-2"></i>Support Chat</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"></button>
    </div>
    <div class="offcanvas-body">
        <p class="text-muted small text-center">Start a conversation...</p>
        <div class="input-group mt-auto">
            <input type="text" class="form-control" placeholder="Type a message...">
            <button class="btn btn-primary"><i class="fas fa-paper-plane"></i></button>
        </div>
    </div>
</div>

<div class="fab-container" id="fabContainer">
    <button class="btn btn-primary fab-main" onclick="toggleFab()">
        <i class="fas fa-bolt"></i>
    </button>

    <div class="fab-action-wrapper">
        <button class="btn btn-warning fab-action text-dark" type="button" data-bs-toggle="offcanvas" data-bs-target="#chatDrawer">
            <i class="fas fa-question"></i>
        </button>
        <span class="fab-label">Raise Query</span>
    </div>

    <div class="fab-action-wrapper">
        <a href="#" class="btn btn-success fab-action">
            <i class="fas fa-rupee-sign"></i>
        </a>
        <span class="fab-label">Pay Fees</span>
    </div>

    <div class="fab-action-wrapper">
        <a href="#" class="btn btn-info fab-action">
            <i class="fas fa-file-invoice"></i>
        </a>
        <span class="fab-label">Get Challan</span>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="/js/script.js"></script>

</body>
</html>